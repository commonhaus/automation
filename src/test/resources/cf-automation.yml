notice:
  discussion:
    rules:
      - # If a discussion is created in the Announcements or Reviews 
        # category, apply the notice label
        # email announce and discord announce
        category: [Announcements, Reviews]
        action: [created, category_changed]
        then: [label_notice, email_announce, discord_announce]
      - # If a discussion that already has a notice label is updated,
        # update discord activity
        action: 
        - "!labeled"
        - "!unlabeled"
        label: [notice]
        then: [discord_activity]
  discussion_comment:
    rules:
      - # If a comment is made on a discussion with a Notice label,
        # update discord activity
        action: [created]
        label: [notice]
        then: [discord_activity]
  issue_comment:
    rules:
      - # If a comment is made on an issue (or pull request) with a Notice label,
        # update discord activity
        action: [created]
        label: [notice]
        then: [discord_activity]
  pull_request_review_comment:
    rules:
      - # If a review comment is made on an issue (or pull request) with a Notice label,
        # update discord activity
        action: [created]
        label: [notice]
        then: [discord_activity]
  pull_request:
    rules:
      - # If a pull request is created that touches bylaws or policies
        # that does not have the notice label:
        #   apply the notice label
        #   send an email to the announcement list
        action:
          - opened
          - edited
          - closed
        paths:
          - bylaws/*
          - policies/*
        label: ["!notice"]
        then: [label_notice, email_activity]
      - # If a pull request has a notice label,
        # dispatch a follow-on action to update the website (RSS, etc)
        action:
          - opened
          - edited
          - closed
        label: [notice]
        then: [email_activity]
  actions:
    label_notice: [notice]
    email_announce: 
      address: test@commonhaus.org
      template: something.qute
    discord_announce:
      channel: something
      template: something.qute

